/** wulacms-v3.0.0 MIT License By https://github.com/ninggf/wulacms */
 ;layui.define(["form"],function(t){var r=layui.jquery,d=layui.form,l={phoneX:"请输入正确的手机号",emailX:"邮箱格式不正确",urlX:"链接格式不正确",numberX:"只能填写数字",dateX:"日期格式不正确",identityX:"请输入正确的身份证号",psw:"密码必须5到12位，且不能出现空格",equalTo:"两次输入不一致",digits:"只能输入整数",digitsP:"只能输入正整数",digitsN:"只能输入负整数",digitsPZ:"只能输入正整数和0",digitsNZ:"只能输入负整数和0",minlength:"最少输入{minlength}个字符",maxlength:"最多输入{maxlength}个字符",min:"值不能小于{min}",max:"值不能大于{max}"},e={phoneX:function(t,e){if(t&&!/^1\d{10}$/.test(t))return l.phoneX},emailX:function(t,e){if(t&&!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t))return l.emailX},urlX:function(t,e){if(t&&!/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/.test(t))return l.urlX},numberX:function(t,e){if(t&&isNaN(t))return l.numberX},dateX:function(t,e){if(t&&!/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/.test(t))return l.dateX},identityX:function(t,e){if(t&&!/(^\d{15}$)|(^\d{17}(x|X|\d)$)/.test(t))return l.identityX},psw:function(t,e){if(t&&!/^[\S]{5,12}$/.test(t))return l.psw},equalTo:function(t,e){if(t!=r(r(e).attr("lay-equalTo")).val()){e=r(e).attr("lay-equalToText");return e||l.equalTo}},digits:function(t,e){if(t&&!/^-?\d+$/.test(t))return l.digits},digitsP:function(t,e){if(t&&!/^[1-9]\d*$/.test(t))return l.digitsP},digitsN:function(t,e){if(t&&!/^-[1-9]\d*$/.test(t))return l.digitsN},digitsPZ:function(t,e){if(t&&!/^\d+$/.test(t))return l.digitsPZ},digitsNZ:function(t,e){if(t&&!/^-[1-9]\d*|0/.test(t))return l.digitsNZ},h5:function(t,e){if(t){var i=r(e).attr("minlength"),n=r(e).attr("maxlength"),a=r(e).attr("min"),e=r(e).attr("max");return i&&t.length<i?l.minlength.replace(/{minlength}/g,i):n&&t.length>n?l.maxlength.replace(/{maxlength}/g,n):a&&+t<+a?l.min.replace(/{min}/g,a):e&&+e<+t?l.max.replace(/{max}/g,e):void 0}}},o={init:function(){d.verify(e)},formVal:function(t,e){o.val(t,e)},val:function(t,a){r('.layui-form[lay-filter="'+t+'"]').each(function(){var t,e,i,n=r(this);for(t in a)a.hasOwnProperty(t)&&(0<(e=n.find('[name="'+t+'"]')).length&&("checkbox"===(i=e[0].type)?e[0].checked=a[t]:"radio"===i?e.each(function(){this.value==a[t]&&(this.checked=!0)}):e.val(a[t])))}),d.render(null,t)},renderSelect:function(n){var t={elem:void 0,data:[],name:void 0,value:void 0,hint:"请选择",initValue:void 0,method:"get",where:void 0,headers:void 0,async:!0,done:void 0,error:void 0};if("string"==typeof(n=r.extend(t,n)).data)r.ajax({url:n.data,type:n.method,data:n.where,dataType:"json",headers:n.header||n.headers,async:n.async,success:function(t,e,i){t.data?(n.data=t.data,o.renderSelect(n)):n.error&&n.error(i,t)},error:n.error});else{for(var e=n.hint?'<option value="">'+n.hint+"</option>":"",i=0;i<n.data.length;i++)n.name&&n.value?e+='<option value="'+n.data[i][n.value]+'"'+(n.data[i][n.value]==n.initValue?" selected":"")+">"+n.data[i][n.name]+"</option>":e+='<option value="'+n.data[i]+'"'+(n.data[i]==n.initValue?" selected":"")+">"+n.data[i]+"</option>";r(n.elem).html(e);t=r(n.elem).parent(".layui-form");0===t.length&&(t=r(n.elem).parentsUntil(".layui-form").last().parent()),d.render("select",t.attr("lay-filter")),n.done&&n.done(n.data)}},startTimer:function(t,e,i){e=e||60,i=i||function(t){return t+"s"},o.timers[t]&&clearInterval(o.timers[t]);var n=r(t).html();r(t).html(i(e)),r(t).prop("disabled",!0),r(t).addClass("layui-btn-disabled");var a=setInterval(function(){--e<=0?(clearInterval(a),r(t).html(n),r(t).removeProp("disabled"),r(t).removeClass("layui-btn-disabled")):r(t).html(i(e))},1e3);o.timers[t]=a},timers:{},formUpdatedField:function(t,e){for(var i in"string"==typeof t&&(t=d.val(t)),t)t.hasOwnProperty(i)&&t[i]===e[i]&&delete t[i];if(0<Object.keys(t).length)return t}};o.init(),t("formX",o)});