/** wulacms-v3.0.0 MIT License By https://github.com/ninggf/wulacms */
 ;layui.define(["jquery"],function(t){var c=layui.jquery,r={bind:function(t,e){c(t).bind("contextmenu",function(t){return r.show(e,t.clientX,t.clientY,t),!1})},show:function(t,e,i,n){var o='<div class="ctxMenu" style="'+("left: "+e+"px; top: "+i+"px;")+'">';o+=r.getHtml(t,""),o+="   </div>",r.remove(),c("body").append(o);o=c(".ctxMenu");e+o.outerWidth()>r.getPageWidth()&&(e-=o.outerWidth()),i+o.outerHeight()>r.getPageHeight()&&(i-=o.outerHeight())<0&&(i=0),o.css({top:i,left:e}),r.setEvents(t,n),c(".ctxMenu-item").on("mouseenter",function(t){var e,i,n;t.stopPropagation(),c(this).parent().find(".ctxMenu-sub").css("display","none"),c(this).hasClass("haveMore")&&(e=c(this).find(">a"),i=c(this).find(">.ctxMenu-sub"),n=e.offset().top-c("body,html").scrollTop(),(t=e.offset().left+e.outerWidth()-c("body,html").scrollLeft())+i.outerWidth()>r.getPageWidth()&&(t=e.offset().left-i.outerWidth()),n+i.outerHeight()>r.getPageHeight()&&(n=n-i.outerHeight()+e.outerHeight())<0&&(n=0),c(this).find(">.ctxMenu-sub").css({top:n,left:t,display:"block"}))})},remove:function(){for(var t=parent.window.frames,e=0;e<t.length;e++){var i=t[e];try{i.layui.jquery("body>.ctxMenu").remove()}catch(t){}}try{parent.layui.jquery("body>.ctxMenu").remove()}catch(t){}},setEvents:function(i,n){c(".ctxMenu").off("click").on("click","[lay-id]",function(t){var e=function t(e,i){for(var n=0;n<i.length;n++){var o=i[n];if(e==o.itemId)return o;if(o.subs&&0<o.subs.length){var o=t(e,o.subs);if(o)return o}}}(c(this).attr("lay-id"),i);e.click&&e.click(t,n)})},getHtml:function(t,e){for(var i="",n=0;n<t.length;n++){var o=t[n];o.itemId="ctxMenu-"+e+n,o.subs&&0<o.subs.length?(i+='<div class="ctxMenu-item haveMore" lay-id="'+o.itemId+'">',i+="<a>",o.icon&&(i+='<i class="'+o.icon+' ctx-icon"></i>'),i+=o.name,i+='<i class="layui-icon layui-icon-right icon-more"></i>',i+="</a>",i+='<div class="ctxMenu-sub" style="display: none;">',i+=r.getHtml(o.subs,e+n),i+="</div>"):(i+='<div class="ctxMenu-item" lay-id="'+o.itemId+'">',i+="<a>",o.icon&&(i+='<i class="'+o.icon+' ctx-icon"></i>'),i+=o.name,i+="</a>"),i+="</div>",1==o.hr&&(i+="<hr/>")}return i},getCommonCss:function(){return".ctxMenu, .ctxMenu-sub {        max-width: 250px;        min-width: 110px;        background: white;        border-radius: 2px;        padding: 5px 0;        white-space: nowrap;        position: fixed;        z-index: 2147483647;        box-shadow: 0 2px 4px rgba(0, 0, 0, .12);        border: 1px solid #d2d2d2;        overflow: visible;   }   .ctxMenu-item {        position: relative;   }   .ctxMenu-item > a {        font-size: 14px;        color: #666;        padding: 0 26px 0 35px;        cursor: pointer;        display: block;        line-height: 36px;        text-decoration: none;        position: relative;   }   .ctxMenu-item > a:hover {        background: #f2f2f2;        color: #666;   }   .ctxMenu-item > a > .icon-more {        position: absolute;        right: 5px;        top: 0;        font-size: 12px;        color: #666;   }   .ctxMenu-item > a > .ctx-icon {        position: absolute;        left: 12px;        top: 0;        font-size: 15px;        color: #666;   }   .ctxMenu hr {        background-color: #e6e6e6;        clear: both;        margin: 5px 0;        border: 0;        height: 1px;   }   .ctx-ic-lg {        font-size: 18px !important;        left: 11px !important;    }"},getPageHeight:function(){return document.documentElement.clientHeight||document.body.clientHeight},getPageWidth:function(){return document.documentElement.clientWidth||document.body.clientWidth}};c(document).off("click.ctxMenu").on("click.ctxMenu",function(){r.remove()}),c(document).off("click.ctxMenuMore").on("click.ctxMenuMore",".ctxMenu-item",function(t){c(this).hasClass("haveMore")?void 0!==t&&(t.preventDefault(),t.stopPropagation()):r.remove()}),c("head").append('<style id="ew-css-ctx">'+r.getCommonCss()+"</style>"),t("contextMenu",r)});