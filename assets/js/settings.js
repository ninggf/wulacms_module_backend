layui.define(['jquery', 'form', 'admin', 'notice', 'layer'], function (cb) {
  var layer = layui.layer,
      form = layui.form,
      admin = layui.admin,
      notice = layui.notice;

  var Settings = /*#__PURE__*/function () {
    function Settings() {}

    var _proto = Settings.prototype;

    _proto.init = function init(id, data) {
      form.val('settingForm', data);
      form.on('submit(saveBtn)', function (formObj) {
        var loadIndex = layer.load(2);
        admin.postJson('backend/settings/save/' + id, {
          setting: formObj.field
        }, function (data) {
          layer.close(loadIndex);

          if (data.code === 200) {
            notice.success({
              title: 'Success',
              message: '配置保存成功！'
            });
          } else {
            notice.error({
              title: 'Error',
              message: data.message
            });
          }
        });
        return false;
      });
    };

    return Settings;
  }();

  cb('@backend.settings', new Settings());
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHRpbmdzLmpzIl0sIm5hbWVzIjpbImxheXVpIiwiZGVmaW5lIiwiY2IiLCJsZXQiLCJsYXllciIsImZvcm0iLCJhZG1pbiIsIm5vdGljZSIsIlNldHRpbmdzIiwiaW5pdCIsImlkIiwiZGF0YSIsInZhbCIsIm9uIiwiZm9ybU9iaiIsImxvYWRJbmRleCIsImxvYWQiLCJwb3N0SnNvbiIsInNldHRpbmciLCJmaWVsZCIsImNsb3NlIiwiY29kZSIsInN1Y2Nlc3MiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJlcnJvciJdLCJtYXBwaW5ncyI6IkFBQUFBLEtBQUssQ0FBQ0MsTUFBTkQsQ0FBYSxDQUFDLFFBQUQsRUFBVyxNQUFYLEVBQW1CLE9BQW5CLEVBQTRCLFFBQTVCLEVBQXNDLE9BQXRDLENBQWJBLEVBQTZERSxVQUFBQSxFQUFBQSxFQUFNO0FBQy9EQyxNQUFJQyxLQUFBQSxHQUFTSixLQUFLLENBQUNJLEtBQW5CRDtBQUFBQSxNQUNJRSxJQUFBQSxHQUFTTCxLQUFLLENBQUNLLElBRG5CRjtBQUFBQSxNQUVJRyxLQUFBQSxHQUFTTixLQUFLLENBQUNNLEtBRm5CSDtBQUFBQSxNQUdJSSxNQUFBQSxHQUFTUCxLQUFLLENBQUNPLE1BSG5CSjs7QUFEK0QsTUFNekRLLFFBTnlEO0FBQUE7O0FBQUE7O0FBQUEsV0FPM0RDLElBUDJELEdBTzNEQSxjQUFLQyxFQUFMRCxFQUFTRSxJQUFURixFQUFlO0FBQ1hKLE1BQUFBLElBQUksQ0FBQ08sR0FBTFAsQ0FBUyxhQUFUQSxFQUF1Qk0sSUFBdkJOO0FBQ0FBLE1BQUFBLElBQUksQ0FBQ1EsRUFBTFIsQ0FBUSxpQkFBUkEsRUFBMkIsVUFBQ1MsT0FBRCxFQUFhO0FBQ3BDWCxZQUFJWSxTQUFBQSxHQUFZWCxLQUFLLENBQUNZLElBQU5aLENBQVcsQ0FBWEEsQ0FBaEJEO0FBQ0FHLFFBQUFBLEtBQUssQ0FBQ1csUUFBTlgsQ0FBZSwyQkFBMkJJLEVBQTFDSixFQUNNO0FBQUNZLFVBQUFBLE9BQU8sRUFBRUosT0FBTyxDQUFDSztBQUFsQixTQUROYixFQUVNSyxVQUFBQSxJQUFBQSxFQUFRO0FBQ05QLFVBQUFBLEtBQUssQ0FBQ2dCLEtBQU5oQixDQUFZVyxTQUFaWDs7QUFDQSxjQUFJTyxJQUFJLENBQUNVLElBQUxWLEtBQWMsR0FBbEIsRUFBdUI7QUFDbkJKLFlBQUFBLE1BQU0sQ0FBQ2UsT0FBUGYsQ0FBZTtBQUNYZ0IsY0FBQUEsS0FBQUEsRUFBUyxTQURFO0FBRVhDLGNBQUFBLE9BQU8sRUFBRTtBQUZFLGFBQWZqQjtBQUlKLFdBTEEsTUFLTztBQUNIQSxZQUFBQSxNQUFNLENBQUNrQixLQUFQbEIsQ0FBYTtBQUNUZ0IsY0FBQUEsS0FBQUEsRUFBUyxPQURBO0FBRVRDLGNBQUFBLE9BQU8sRUFBRWIsSUFBSSxDQUFDYTtBQUZMLGFBQWJqQjtBQUlKO0FBQ0gsU0FmTEQ7QUFpQkEsZUFBTyxLQUFQO0FBQ0gsT0FwQkREO0FBcUJKLEtBOUIyRDs7QUFBQTtBQUFBOztBQWlDL0RILEVBQUFBLEVBQUUsQ0FBQyxtQkFBRCxFQUFzQixJQUFJTSxRQUFKLEVBQXRCLENBQUZOO0FBQ0gsQ0FsQ0RGIiwiZmlsZSI6InNldHRpbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGF5dWkuZGVmaW5lKFsnanF1ZXJ5JywgJ2Zvcm0nLCAnYWRtaW4nLCAnbm90aWNlJywgJ2xheWVyJ10sIGNiID0+IHtcbiAgICBsZXQgbGF5ZXIgID0gbGF5dWkubGF5ZXIsXG4gICAgICAgIGZvcm0gICA9IGxheXVpLmZvcm0sXG4gICAgICAgIGFkbWluICA9IGxheXVpLmFkbWluLFxuICAgICAgICBub3RpY2UgPSBsYXl1aS5ub3RpY2U7XG5cbiAgICBjbGFzcyBTZXR0aW5ncyB7XG4gICAgICAgIGluaXQoaWQsIGRhdGEpIHtcbiAgICAgICAgICAgIGZvcm0udmFsKCdzZXR0aW5nRm9ybScsZGF0YSlcbiAgICAgICAgICAgIGZvcm0ub24oJ3N1Ym1pdChzYXZlQnRuKScsIChmb3JtT2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGxvYWRJbmRleCA9IGxheWVyLmxvYWQoMik7XG4gICAgICAgICAgICAgICAgYWRtaW4ucG9zdEpzb24oJ2JhY2tlbmQvc2V0dGluZ3Mvc2F2ZS8nICsgaWRcbiAgICAgICAgICAgICAgICAgICAgLCB7c2V0dGluZzogZm9ybU9iai5maWVsZH1cbiAgICAgICAgICAgICAgICAgICAgLCBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmNsb3NlKGxvYWRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGljZS5zdWNjZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgIDogJ1N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6YWN572u5L+d5a2Y5oiQ5Yqf77yBJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpY2UuZXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSAgOiAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2IoJ0BiYWNrZW5kLnNldHRpbmdzJywgbmV3IFNldHRpbmdzKCkpXG59KTsiXX0=
