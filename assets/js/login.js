/** wulacms-v3.0.0 MIT License By https://github.com/ninggf/wulacms */
 ;layui.define(["layer","form","admin"],function(e){var i=layui.$,a=layui.form,n=layui.layer,r=layui.admin;e("@backend.login",new(function(){function e(){}return e.prototype.init=function(){i(".login-captcha").on("click",function(){i(this).attr("src",i(this).data("src")+"?_="+(new Date).getTime())}),a.render().on("submit(loginSubmit)",function(e){var a=n.load(2);return r.ajax({url:r.url("backend/login"),method:"POST",data:e.field,success:function(e){n.close(a),e.code&&200===e.code?window.location=r.url("backend"):(e.args&&3<=e.args.ent&&(i(".login-captcha-group").show(),i("input[name=captcha]").attr("lay-verify","required").attr("required","")),e.message&&(e.args&&e.args.elem?n.tips(e.message,e.args.elem):n.msg(e.message,{icon:2,time:2e3})))}}),!1}),i(".login-wrapper").removeClass("layui-hide")},e}()))});