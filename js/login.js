/** coolay-v1.0.0 MIT License By https://github.com/ninggf/coolayui */
 ;layui.define(["jquery"],function(o){"use strict";var a=layui.$;o("@backend.login",new Vue({el:"#login",data:{winData:window.winData,login:{username:"",passwd:"",captcha:"",autologin:0},vcode_show:3<=window.winData.ent,captcha_src:window.winData.captcha+"?size=150x60&font=28",captcha_src1:"",errormsg:""},methods:{submit:function(){var t=this;this.errormsg="",this.login.username?this.login.passwd?this.login.captcha||!this.vcode_show?(t.login.autologin=t.login.autologin?1:0,a.post("./login",t.login,function(o){o&&500==o.code?(t.errormsg=o.message,3<=o.args.ent&&!t.vcode_show&&(t.captcha_src1=t.captcha_src+"&t="+Math.random(),t.vcode_show=1)):o&&200==o.code&&(location.href=o.target)})):this.errormsg="请输入验证码":this.errormsg="请输入密码":this.errormsg="请输入用户名"}},mounted:function(){this.vcode_show&&(this.captcha_src1=this.captcha_src+"&t="+Math.random())}}))});