layui.define("layer",function(e){"use strict";function t(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/,"链接格式不正确"],number:function(e){if(!e||isNaN(e))return"只能填写数字"},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]}}}var x=layui.$,f=layui.layer,l=layui.hint(),h=layui.device(),b="form",v=".layui-form",C="layui-this",w="layui-hide",T="layui-disabled";t.prototype.set=function(e){return x.extend(!0,this.config,e),this},t.prototype.verify=function(e){return x.extend(!0,this.config.verify,e),this},t.prototype.on=function(e,t){return layui.onevent.call(this,b,e,t)},t.prototype.val=function(e,i){return x(v+'[lay-filter="'+e+'"]').each(function(e,t){var l=x(this);layui.each(i,function(e,t){var i,a=l.find('[name="'+e+'"]');a[0]&&("checkbox"===(i=a[0].type)?a[0].checked=t:"radio"===i?a.each(function(){this.value==t&&(this.checked=!0)}):a.val(t))})}),r.render(null,e),this.getValue(e)},t.prototype.getValue=function(e,t){t=t||x(v+'[lay-filter="'+e+'"]').eq(0);var a={},l={},i=t.find("input,select,textarea");return layui.each(i,function(e,t){if(t.name=(t.name||"").replace(/^\s*|\s*&/,""),t.name){if(/^.*\[\]$/.test(t.name)){var i=t.name.match(/^(.*)\[\]$/g)[0];a[i]=0|a[i],t.name=t.name.replace(/^(.*)\[\]$/,"$1["+a[i]+++"]")}/^checkbox|radio$/.test(t.type)&&!t.checked||(l[t.name]=t.value)}}),l},t.prototype.render=function(e,t){var i=x(v+(t?'[lay-filter="'+t+'"]':"")),a={select:function(){function v(e,t){x(e.target).parent().hasClass(m)&&!t||(x("."+p).removeClass(p+"ed "+p+"up"),y&&g&&y.val(g)),y=null}var y,h="请选择",p="layui-form-select",m="layui-select-title",k="layui-select-none",g="",e=i.find("select");e.each(function(e,t){var i=x(this),a=i.next("."+p),l=this.disabled,n=t.value,r=x(t.options[t.selectedIndex]),s=t.options[0];if("string"==typeof i.attr("lay-ignore"))return i.show();var o,c,u="string"==typeof i.attr("lay-search"),d=s?s.value?h:s.innerHTML||h:h,f=x(['<div class="'+(u?"":"layui-unselect ")+p,(l?" layui-select-disabled":"")+'">','<div class="'+m+'">','<input type="text" placeholder="'+d+'" value="'+(n?r.html():"")+'"'+(!l&&u?"":" readonly")+' class="layui-input'+(u?"":" layui-unselect")+(l?" "+T:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(i.find("optgroup")[0]?" layui-select-group":"")+'">',(o=i.find("*"),c=[],layui.each(o,function(e,t){0!==e||t.value?"optgroup"===t.tagName.toLowerCase()?c.push("<dt>"+t.label+"</dt>"):c.push('<dd lay-value="'+t.value+'" class="'+(n===t.value?C:"")+(t.disabled?" "+T:"")+'">'+t.innerHTML+"</dd>"):c.push('<dd lay-value="" class="layui-select-tips">'+(t.innerHTML||h)+"</dd>")}),0===c.length&&c.push('<dd lay-value="" class="'+T+'">没有选项</dd>'),c.join("")+"</dl>"),"</div>"].join(""));a[0]&&a.remove(),i.after(f),function(a,e,t){var s,l=x(this),i=a.find("."+m),n=i.find("input"),o=a.find("dl"),r=o.children("dd"),c=this.selectedIndex;if(!e){var u=function(){var e=a.offset().top+a.outerHeight()+5-$.scrollTop(),t=o.outerHeight();c=l[0].selectedIndex,a.addClass(p+"ed"),r.removeClass(w),s=null,r.eq(c).addClass(C).siblings().removeClass(C),e+t>$.height()&&t<=e&&a.addClass(p+"up"),f()},d=function(e){a.removeClass(p+"ed "+p+"up"),n.blur(),s=null,e||h(n.val(),function(e){var t=l[0].selectedIndex;e&&(g=x(l[0].options[t]).html(),0===t&&g===n.attr("placeholder")&&(g=""),n.val(g||""))})},f=function(){var e=o.children("dd."+C);if(e[0]){var t=e.position().top,i=o.height(),a=e.height();i<t&&o.scrollTop(t+o.scrollTop()-i+a-5),t<0&&o.scrollTop(t+o.scrollTop()-5)}};i.on("click",function(e){a.hasClass(p+"ed")?d():(v(e,!0),u()),o.find("."+k).remove()}),i.find(".layui-edge").on("click",function(){n.focus()}),n.on("keyup",function(e){9===e.keyCode&&u()}).on("keydown",function(n){var e=n.keyCode;9===e&&d();var r=function(a,l){var e,t;n.preventDefault();var i=function(){var e=o.children("dd."+C);if(o.children("dd."+w)[0]&&"next"===a){var t=o.children("dd:not(."+w+",."+T+")"),i=t.eq(0).index();if(0<=i&&i<e.index()&&!t.hasClass(C))return t.eq(0).prev()[0]?t.eq(0).prev():o.children(":last")}return l&&l[0]?l:s&&s[0]?s:e}();return t=i[a](),e=i[a]("dd:not(."+w+")"),t[0]?(s=i[a](),e[0]&&!e.hasClass(T)||!s[0]?(e.addClass(C).siblings().removeClass(C),void f()):r(a,s)):s=null};38===e&&r("prev"),40===e&&r("next"),13===e&&(n.preventDefault(),o.children("dd."+C).trigger("click"))});var h=function(a,e,l){var n=0;layui.each(r,function(){var e=x(this),t=e.text(),i=-1===t.indexOf(a);(""===a||"blur"===l?a!==t:i)&&n++,"keyup"===l&&e[i?"addClass":"removeClass"](w)});var t=n===r.length;return e(t),t};t&&n.on("keyup",function(e){var t=this.value,i=e.keyCode;if(9===i||13===i||37===i||38===i||39===i||40===i)return!1;h(t,function(e){e?o.find("."+k)[0]||o.append('<p class="'+k+'">无匹配项</p>'):o.find("."+k).remove()},"keyup"),""===t&&o.find("."+k).remove(),f()}).on("blur",function(e){var t=l[0].selectedIndex;y=n,g=x(l[0].options[t]).html(),0===t&&g===n.attr("placeholder")&&(g=""),setTimeout(function(){h(n.val(),function(e){g||n.val("")},"blur")},200)}),r.on("click",function(){var e=x(this),t=e.attr("lay-value"),i=l.attr("lay-filter");return e.hasClass(T)||(e.hasClass("layui-select-tips")?n.val(""):(n.val(e.text()),e.addClass(C)),e.siblings().removeClass(C),l.val(t).removeClass("layui-form-danger"),layui.event.call(this,b,"select("+i+")",{elem:l[0],value:t,othis:a}),d(!0)),!1}),a.find("dl>dt").on("click",function(e){return!1}),x(document).off("click",v).on("click",v)}}.call(this,f,l,u)})},checkbox:function(){var u={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},e=i.find("input[type=checkbox]");e.each(function(e,t){var i=x(this),a=i.attr("lay-skin"),l=(i.attr("lay-text")||"").split("|"),n=this.disabled;"switch"===a&&(a="_"+a);var r=u[a]||u.checkbox;if("string"==typeof i.attr("lay-ignore"))return i.show();var s,o=i.next("."+r[0]),c=x(['<div class="layui-unselect '+r[0],t.checked?" "+r[1]:"",n?" layui-checkbox-disbaled "+T:"",'"',a?' lay-skin="'+a+'"':"",">",(s={checkbox:[t.title.replace(/\s/g,"")?"<span>"+t.title+"</span>":"",'<i class="layui-icon layui-icon-ok"></i>'].join(""),_switch:"<em>"+((t.checked?l[0]:l[1])||"")+"</em><i></i>"},s[a]||s.checkbox),"</div>"].join(""));o[0]&&o.remove(),i.after(c),function(i,a){var l=x(this);i.on("click",function(){var e=l.attr("lay-filter"),t=(l.attr("lay-text")||"").split("|");l[0].disabled||(l[0].checked?(l[0].checked=!1,i.removeClass(a[1]).find("em").text(t[1])):(l[0].checked=!0,i.addClass(a[1]).find("em").text(t[0])),layui.event.call(l[0],b,a[2]+"("+e+")",{elem:l[0],value:l[0].value,othis:i}))})}.call(this,c,r)})},radio:function(){var s="layui-form-radio",o=["&#xe643;","&#xe63f;"],e=i.find("input[type=radio]");e.each(function(e,t){var i=x(this),a=i.next("."+s),l=this.disabled;if("string"==typeof i.attr("lay-ignore"))return i.show();a[0]&&a.remove();var n,r=x(['<div class="layui-unselect '+s,t.checked?" "+s+"ed":"",(l?" layui-radio-disbaled "+T:"")+'">','<i class="layui-anim layui-icon">'+o[t.checked?0:1]+"</i>","<div>"+(n=t.title||"","string"==typeof i.next().attr("lay-radio")&&(n=i.next().html(),i.next().remove()),n)+"</div>","</div>"].join(""));i.after(r),function(l){var n=x(this),r="layui-anim-scaleSpring";l.on("click",function(){var e=n[0].name,t=n.parents(v),i=n.attr("lay-filter"),a=t.find("input[name="+e.replace(/(\.|#|\[|\])/g,"\\$1")+"]");n[0].disabled||(layui.each(a,function(){var e=x(this).next("."+s);this.checked=!1,e.removeClass(s+"ed"),e.find(".layui-icon").removeClass(r).html(o[1])}),n[0].checked=!0,l.addClass(s+"ed"),l.find(".layui-icon").addClass(r).html(o[0]),layui.event.call(n[0],b,"radio("+i+")",{elem:n[0],value:n[0].value,othis:l}))})}.call(this,r)})}};return e?a[e]?a[e]():l.error("不支持的"+e+"表单渲染"):layui.each(a,function(e,t){t()}),this};function i(){var e,c=null,u=r.config.verify,d="layui-form-danger",t=x(this),i=t.parents(v),a=i.find("*[lay-verify]"),l=t.parents("form")[0],n=t.attr("lay-filter");return layui.each(a,function(e,n){var r=x(this),t=r.attr("lay-verify").split("|"),s=r.attr("lay-verType"),o=r.val();if(r.removeClass(d),layui.each(t,function(e,t){var i="",a="function"==typeof u[t];if(u[t]){var l=a?i=u[t](o,n):!u[t][0].test(o);if(i=i||u[t][1],"required"===t&&(i=r.attr("lay-reqText")||i),l)return"tips"===s?f.tips(i,"string"==typeof r.attr("lay-ignore")||"select"!==n.tagName.toLowerCase()&&!/^checkbox|radio$/.test(n.type)?r:r.next(),{tips:1}):"alert"===s?f.alert(i,{title:"提示",shadeClose:!0}):f.msg(i,{icon:5,shift:6}),h.android||h.ios||setTimeout(function(){n.focus()},7),r.addClass(d),c=!0}}),c)return c}),!c&&(e=r.getValue(null,i),layui.event.call(this,b,"submit("+n+")",{elem:this,form:l,field:e}))}var r=new t,a=x(document),$=x(window);r.render(),a.on("reset",v,function(){var e=x(this).attr("lay-filter");setTimeout(function(){r.render(null,e)},50)}),a.on("submit",v,i).on("click","*[lay-submit]",i),e(b,r)});