layui.define("jquery",function(e){"use strict";function t(e){var i=this;i.index=++a.index,i.config=y.extend({},i.config,a.config,e),i.render()}var y=layui.jquery,a={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(e){var i=this;return i.config=y.extend({},i.config,e),i},on:function(e,i){return layui.onevent.call(this,n,e,i)}},n="slider",h="layui-disabled",g="layui-slider-bar",b="layui-slider-wrap",x="layui-slider-wrap-btn",T="layui-slider-tips",w="layui-slider-input-txt",l="layui-slider-input-btn",M="layui-slider-hover";t.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},t.prototype.render=function(){var l=this,s=l.config;if(s.step<1&&(s.step=1),s.max<s.min&&(s.max=s.min+s.step),s.range){s.value="object"==typeof s.value?s.value:[s.min,s.value];var e=Math.min(s.value[0],s.value[1]),i=Math.max(s.value[0],s.value[1]);s.value[0]=e>s.min?e:s.min,s.value[1]=i>s.min?i:s.min,s.value[0]=s.value[0]>s.max?s.max:s.value[0],s.value[1]=s.value[1]>s.max?s.max:s.value[1];var t=Math.floor((s.value[0]-s.min)/(s.max-s.min)*100),a=Math.floor((s.value[1]-s.min)/(s.max-s.min)*100),n=a-t+"%";t+="%",a+="%"}else{"object"==typeof s.value&&(s.value=Math.min.apply(null,s.value)),s.value<s.min&&(s.value=s.min),s.value>s.max&&(s.value=s.max);n=Math.floor((s.value-s.min)/(s.max-s.min)*100)+"%"}var r=s.disabled?"#c2c2c2":s.theme,o='<div class="layui-slider '+("vertical"===s.type?"layui-slider-vertical":"")+'">'+(s.tips?'<div class="layui-slider-tips"></div>':"")+'<div class="layui-slider-bar" style="background:'+r+"; "+("vertical"===s.type?"height":"width")+":"+n+";"+("vertical"===s.type?"bottom":"left")+":"+(t||0)+';"></div><div class="layui-slider-wrap" style="'+("vertical"===s.type?"bottom":"left")+":"+(t||n)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+r+';"></div></div>'+(s.range?'<div class="layui-slider-wrap" style="'+("vertical"===s.type?"bottom":"left")+":"+a+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+r+';"></div></div>':"")+"</div>",u=y(s.elem),d=u.next(".layui-slider");if(d[0]&&d.remove(),l.elemTemp=y(o),s.range?(l.elemTemp.find("."+b).eq(0).data("value",s.value[0]),l.elemTemp.find("."+b).eq(1).data("value",s.value[1])):l.elemTemp.find("."+b).data("value",s.value),u.html(l.elemTemp),"vertical"===s.type&&l.elemTemp.height(s.height+"px"),s.showstep){for(var v=(s.max-s.min)/s.step,c="",m=1;m<1+v;m++){var p=100*m/v;p<100&&(c+='<div class="layui-slider-step" style="'+("vertical"===s.type?"bottom":"left")+":"+p+'%"></div>')}l.elemTemp.append(c)}if(s.input&&!s.range){var f=y('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>');u.css("position","relative"),u.append(f),u.find("."+w).children("input").val(s.value),"vertical"===s.type?f.css({left:0,top:-48}):l.elemTemp.css("margin-right",f.outerWidth()+15)}s.disabled?(l.elemTemp.addClass(h),l.elemTemp.find("."+x).addClass(h)):l.slide(),l.elemTemp.find("."+x).on("mouseover",function(){var e="vertical"===s.type?s.height:l.elemTemp[0].offsetWidth,i=l.elemTemp.find("."+b),t=("vertical"===s.type?e-y(this).parent()[0].offsetTop-i.height():y(this).parent()[0].offsetLeft)/e*100,a=y(this).parent().data("value"),n=s.setTips?s.setTips(a):a;l.elemTemp.find("."+T).html(n),"vertical"===s.type?l.elemTemp.find("."+T).css({bottom:t+"%","margin-bottom":"20px",display:"inline-block"}):l.elemTemp.find("."+T).css({left:t+"%",display:"inline-block"})}).on("mouseout",function(){l.elemTemp.find("."+T).css("display","none")})},t.prototype.slide=function(e,i,t){function o(){return"vertical"===u.type?u.height:d[0].offsetWidth}function r(e,i){e=100<(e=100<Math.ceil(e)*p?Math.ceil(e)*p:Math.round(e)*p)?100:e,v.eq(i).css("vertical"===u.type?"bottom":"left",e+"%");var t=f(v[0].offsetLeft),a=u.range?f(v[1].offsetLeft):0;"vertical"===u.type?(d.find("."+T).css({bottom:e+"%","margin-bottom":"20px"}),t=f(o()-v[0].offsetTop-v.height()),a=u.range?f(o()-v[1].offsetTop-v.height()):0):d.find("."+T).css("left",e+"%"),t=100<t?100:t,a=100<a?100:a;var n=Math.min(t,a),l=Math.abs(t-a);"vertical"===u.type?d.find("."+g).css({height:l+"%",bottom:n+"%"}):d.find("."+g).css({width:l+"%",left:n+"%"});var s=u.min+Math.round((u.max-u.min)*e/100);if(m=s,c.children("."+w).children("input").val(m),v.eq(i).data("value",s),s=u.setTips?u.setTips(s):s,d.find("."+T).html(s),u.range){var r=[v.eq(0).data("value"),v.eq(1).data("value")];r[0]>r[1]&&r.reverse()}u.change&&u.change(u.range?r:s)}var u=this.config,d=this.elemTemp,v=d.find("."+b),c=d.next(".layui-slider-input"),m=c.children("."+w).children("input").val(),p=100/((u.max-u.min)/Math.ceil(u.step)),f=function(e){var i=e/o()*100/p,t=Math.round(i)*p;return e==o()&&(t=Math.ceil(i)*p),t},h=y(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join(""));if("set"===e)return r(i,t);d.find("."+x).each(function(l){var s=y(this);s.on("mousedown",function(e){e=e||window.event;var a=s.parent()[0].offsetLeft,n=e.clientX;"vertical"===u.type&&(a=o()-s.parent()[0].offsetTop-v.height(),n=e.clientY);!function(e,i){function t(){i&&i(),h.remove()}y("#LAY-slider-moving")[0]||y("body").append(h),h.on("mousemove",e),h.on("mouseup",t).on("mouseleave",t)}(function(e){e=e||window.event;var i=a+("vertical"===u.type?n-e.clientY:e.clientX-n);i<0&&(i=0),i>o()&&(i=o());var t=i/o()*100/p;r(t,l),s.addClass(M),d.find("."+T).show(),e.preventDefault()},function(){s.removeClass(M),d.find("."+T).hide()})})}),d.on("click",function(e){var i=y("."+x);if(!i.is(event.target)&&0===i.has(event.target).length&&i.length){var t,a="vertical"===u.type?o()-e.clientY+y(this).offset().top:e.clientX-y(this).offset().left;a<0&&(a=0),a>o()&&(a=o());var n=a/o()*100/p;t=u.range?"vertical"===u.type?Math.abs(a-parseInt(y(v[0]).css("bottom")))>Math.abs(a-parseInt(y(v[1]).css("bottom")))?1:0:Math.abs(a-v[0].offsetLeft)>Math.abs(a-v[1].offsetLeft)?1:0:0,r(n,t),e.preventDefault()}}),c.hover(function(){y(this).children("."+l).fadeIn("fast")},function(){y(this).children("."+l).fadeOut("fast")}),c.children("."+l).children("i").each(function(i){y(this).on("click",function(){var e=((m=1==i?m-u.step<u.min?u.min:Number(m)-u.step:Number(m)+u.step>u.max?u.max:Number(m)+u.step)-u.min)/(u.max-u.min)*100/p;r(e,0)})});function a(){var e=this.value;e=(e=(e=isNaN(e)?0:e)<u.min?u.min:e)>u.max?u.max:e;var i=((this.value=e)-u.min)/(u.max-u.min)*100/p;r(i,0)}c.children("."+w).children("input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),a.call(this))}).on("change",a)},t.prototype.events=function(){this.config},a.render=function(e){var i=new t(e);return function(){var t=this;return{setValue:function(e,i){return t.slide("set",e,i||0)},config:t.config}}.call(i)},e(n,a)});